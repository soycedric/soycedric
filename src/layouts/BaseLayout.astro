---
// Learn about using Astro layouts:
// https://docs.astro.build/en/core-concepts/layouts/

// Component Imports
import MainHead from '../components/MainHead.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';

interface Props {
	title?: string | undefined;
	description?: string | undefined;
}

const { title, description } = Astro.props;
---

<html lang="en">
	<head>
		<MainHead title={title} description={description} />
	</head>
	<body>
		<div class="animated-background">
			<div class="gradient-bg"></div>
			<div class="floating-icons">
				<span class="icon">⚡</span>
				<span class="icon">🔍</span>
				<span class="icon">💻</span>
				<span class="icon">📊</span>
				<span class="icon">🎯</span>
				<span class="icon">📱</span>
				<span class="icon">🌐</span>
				<span class="icon">📈</span>
				<span class="icon">💡</span>
				<span class="icon">🚀</span>
				<span class="icon">⭐</span>
				<span class="icon">📱</span>
				<span class="icon">💻</span>
				<span class="icon">🔍</span>
				<span class="icon">⚡</span>
			</div>
		</div>
		<div class="stack content">
			<Nav />
			<slot />
			<Footer />
		</div>

		<script>
			addEventListener('load', () => document.documentElement.classList.add('loaded'));
		</script>

		<style>
			:root {
				--gradient-1: var(--gray-900);
				--gradient-2: var(--accent-dark);
				--gradient-3: var(--gray-999);
				--gradient-4: var(--accent-regular);
			}

			.animated-background {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: -1;
				overflow: hidden;
				background: var(--gray-999);
			}

			.gradient-bg {
				position: absolute;
				top: -100%;
				left: -100%;
				width: 300%;
				height: 300%;
				background: linear-gradient(
					45deg,
					var(--gradient-1),
					var(--gradient-2),
					var(--gradient-3),
					var(--gradient-4)
				);
				animation: gradient 20s ease infinite;
				opacity: 0.7;
				background-size: 200% 200%;
			}

			.floating-icons {
				position: absolute;
				width: 100%;
				height: 100%;
				overflow: hidden;
			}

			.icon {
				position: absolute;
				font-size: 1.5rem;
				opacity: 0;
				animation: bubble 15s infinite;
				filter: blur(0.5px);
				color: var(--accent-light);
				text-shadow: 0 0 10px var(--accent-regular);
			}

			.icon:nth-child(1) { left: 10%; animation-delay: 0s; }
			.icon:nth-child(2) { left: 25%; animation-delay: 2s; }
			.icon:nth-child(3) { left: 15%; animation-delay: 4s; }
			.icon:nth-child(4) { left: 30%; animation-delay: 6s; }
			.icon:nth-child(5) { left: 20%; animation-delay: 8s; }
			.icon:nth-child(6) { left: 35%; animation-delay: 1s; }
			.icon:nth-child(7) { left: 80%; animation-delay: 3s; }
			.icon:nth-child(8) { left: 65%; animation-delay: 5s; }
			.icon:nth-child(9) { left: 75%; animation-delay: 7s; }
			.icon:nth-child(10) { left: 85%; animation-delay: 9s; }
			.icon:nth-child(11) { left: 70%; animation-delay: 2.5s; }
			.icon:nth-child(12) { left: 45%; animation-delay: 4.5s; }
			.icon:nth-child(13) { left: 55%; animation-delay: 6.5s; }
			.icon:nth-child(14) { left: 40%; animation-delay: 8.5s; }
			.icon:nth-child(15) { left: 60%; animation-delay: 1.5s; }

			.content {
				position: relative;
				z-index: 1;
			}

			@keyframes gradient {
				0% {
					transform: translate(0%, 0%) rotate(0deg);
					background-position: 0% 50%;
				}
				50% {
					transform: translate(-10%, -10%) rotate(180deg);
					background-position: 100% 50%;
				}
				100% {
					transform: translate(0%, 0%) rotate(360deg);
					background-position: 0% 50%;
				}
			}

			@keyframes bubble {
				0% {
					transform: translateY(120vh) scale(0.8) translateX(0);
					opacity: 0;
				}
				5% {
					opacity: 0.15;
				}
				25% {
					transform: translateY(80vh) scale(0.9) translateX(-10px);
				}
				50% {
					transform: translateY(40vh) scale(1) translateX(10px);
					opacity: 0.15;
				}
				75% {
					transform: translateY(10vh) scale(1.1) translateX(-5px);
					opacity: 0.1;
				}
				100% {
					transform: translateY(-20vh) scale(1.2) translateX(0);
					opacity: 0;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				.gradient-bg {
						animation: none;
				}
				.icon {
					display: none;
				}
			}
		</style>
	</body>
</html>
